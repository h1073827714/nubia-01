function showYZ(){yz.innerHTML=getYZM(6)}var form=$id("form"),mobileFlag=!1,passwordFlag=!1,validateFlag=!1,mobile=$id("mobile"),error_mobilenull=document.querySelectorAll(".error_tips")[0],error_mobilefault=document.querySelectorAll(".error_tips")[1],error_mobilehas=document.querySelectorAll(".error_tips")[2],mobileReg=/^1[3-9]\d{9}$/;mobile.onblur=function(){var e=mobile.value;if(""==e)mobileFlag=!1,error_mobilenull.style.display="inline-block",error_mobilefault.style.display="none";else if(mobileReg.test(e)){var l=new XMLHttpRequest;l.open("post","userinfo.php"),l.setRequestHeader("content-type","application/x-www-form-urlencoded"),l.send("name="+e),l.onreadystatechange=function(){200==l.status&&4==l.readyState&&(1==l.response&&(mobileFlag=!0,error_mobilenull.style.display="none",error_mobilefault.style.display="none",error_mobilehas.style.display="none"),0==l.response&&(mobileFlag=!1,error_mobilenull.style.display="none",error_mobilefault.style.display="none",error_mobilehas.style.display="inline-block"))}}else mobileFlag=!1,error_mobilefault.style.display="inline-block",error_mobilenull.style.display="none"};var password=$id("passwordMobile"),error_pwdnull=document.querySelectorAll(".error_tips")[3],error_pwdfault=document.querySelectorAll(".error_tips")[4],passwordReg=/^\w{6,16}$/,pReg2=/[a-zA-Z0-9]/,q3Reg1=/[a-z]/,q3Reg2=/[A-Z]/,q3Reg3=/[0-9]/;password.onblur=function(){var e=password.value;""==e?(passwordFlag=!1,error_pwdnull.style.display="inline-block",error_pwdfault.style.display="none"):passwordReg.test(e)&&(-1!=e.search(q3Reg1)&&-1!=e.search(q3Reg2)||-1!=e.search(q3Reg1)&&-1!=e.search(q3Reg3)||-1!=e.search(q3Reg2)&&-1!=e.search(q3Reg3)||-1!=e.search(q3Reg1)&&-1!=e.search(q3Reg2)&&-1!=e.search(q3Reg3))?(passwordFlag=!0,error_pwdnull.style.display="none",error_pwdfault.style.display="none"):(error_pwdfault.style.display="inline-block",error_pwdnull.style.display="none",passwordFlag=!1)};var validateCode=$id("mobileValidateCode"),btnCode=$id("btn-mobile-code"),yz=$id("yz"),error_validatenull=document.querySelectorAll(".error_tips")[5],error_validatefault=document.querySelectorAll(".error_tips")[6];showYZ(),btnCode.onclick=function(){mobileFlag&&(yz.style.display="inline-block",error_validatefault.style.display="none",error_validatenull.style.display="none",showYZ())},validateCode.onblur=function(){mobileFlag&&(yz.style.display="none",""==validateCode.value?(validateFlag=!1,error_validatenull.style.display="inline-block",error_validatefault.style.display="none"):validateCode.value==yz.innerHTML?(validateFlag=!0,error_validatefault.style.display="none",error_validatenull.style.display="none"):(validateFlag=!1,error_validatefault.style.display="inline-block",error_validatenull.style.display="none"))},form.onsubmit=function(){var e=$id("agreement").checked;if(mobileFlag&&passwordFlag&&validateFlag)return e?(alert("注册中，请稍等......"),!0):(alert("请先阅读并接受用户协议和隐私政策"),!1);alert("请先正确完成填写必要的注册信息")};